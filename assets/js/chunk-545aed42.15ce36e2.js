(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-545aed42"],{1148:function(t,n,e){"use strict";var a=e("a691"),i=e("577e"),c=e("1d80");t.exports=function(t){var n=i(c(this)),e="",o=a(t);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(n+=n))1&o&&(e+=n);return e}},"13a5":function(t,n,e){t.exports=e.p+"assets/img/defaultUser4.12918331.png"},"1fb2":function(t,n,e){"use strict";e("7944")},"408a":function(t,n){var e=1..valueOf;t.exports=function(t){return e.call(t)}},"4f0b":function(t,n,e){t.exports=e.p+"assets/img/data.4b76b107.png"},"5ebf":function(t,n,e){"use strict";e("e6eb")},6384:function(t,n,e){"use strict";e.r(n);var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"main-page"},[e("div",{staticClass:"opt-div"},[e("el-button",{staticStyle:{width:"60px"},attrs:{size:"mini",type:"danger"},on:{click:t.reloadPage}},[t._v("刷新")]),e("el-dropdown",{staticClass:"mt5",attrs:{size:"mini","split-button":"",type:"primary"},on:{command:t.changeLayout}},[t._v(" 布局切换 "),e("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e("el-dropdown-item",{attrs:{command:"dagre"}},[t._v("dagre层次")]),e("el-dropdown-item",{attrs:{command:"force"}},[t._v("force力导向")]),e("el-dropdown-item",{attrs:{command:"fruchterman"}},[t._v("fruchterman")]),e("el-dropdown-item",{attrs:{command:"grid"}},[t._v("grid网格")]),e("el-dropdown-item",{attrs:{command:"circular"}},[t._v("circular环形")]),e("el-dropdown-item",{attrs:{command:"concentric"}},[t._v("concentric同心圆")])],1)],1),e("el-radio-group",{staticClass:"mt5",attrs:{size:"mini"},on:{change:t.showTypeChange},model:{value:t.showType,callback:function(n){t.showType=n},expression:"showType"}},[e("el-radio-button",{attrs:{label:"all"}},[t._v("详细")]),e("el-radio-button",{attrs:{label:"normal"}},[t._v("概要")]),e("el-radio-button",{attrs:{label:"simple"}},[t._v("精简")])],1),e("el-radio-group",{staticClass:"mt5",attrs:{size:"mini"},on:{change:t.dataSourceChange},model:{value:t.curDataSource,callback:function(n){t.curDataSource=n},expression:"curDataSource"}},[e("el-radio-button",{attrs:{label:"mock"}},[t._v("测试数据")]),e("el-radio-button",{attrs:{label:"real"}},[t._v("真实数据")])],1)],1),t.graph?e("div",{staticClass:"cur-num",staticStyle:{width:"200px"}},[e("div",{staticClass:"mr5"},[t._v("zoom："+t._s(t.curZoom))]),e("div",[t._v("layout："+t._s(t.curLayout))])]):t._e(),e("div",{attrs:{id:"canvasDiv"}})])},i=[],c=e("5530"),o=e("1da1"),r=(e("b680"),e("159b"),e("7db0"),e("99af"),e("96cf"),e("2ef0"),e("7c3e")),s=e("1aef"),l=e.n(s),d=e("3908"),g=e("b734"),h=e("2810"),u=(e("5553"),e("7fae")),m=(e("89e9"),e("0016"),e("f55e")),f=e("ecee"),p=e("f617"),v=e("35d1"),b=e("eb70"),w="#75da3a",x="#4ac149",y="#f2fce8",_="#06e4e7",k="#00b6c9",T="#e8fafc",S="#3291fb",j="#3075ed",L="#e3effc",W="#ffb100",I="#ff9d00",N="#f9f7e8",C=280,M=25,D=310,E=100,U=160,z=60,A=15,O="",P="",F="",B="",H=function(t){switch(t.icon){case"task":O=w,P=x,F=y,B="任务";break;case"MeetingInfo":O=_,P=k,F=T,B="会议";break;case"chat":case"im":O=S,P=j,F=L,B="即时通讯";break;default:O=W,P=I,F=N,B="工具";break}},R=function(t){return H(t),"\n    <rect style={{\n        width: ".concat(C,",\n        height:").concat(M,",\n        fill: 'l(90) 0:").concat(O," 1:").concat(P,"',\n        stroke: ").concat(P,",\n        radius: [").concat(A,", ").concat(A,', 0, 0],\n      }}\n      draggable="true"\n      >\n        <text style={{\n          marginTop: ').concat(M/2+3,", marginLeft: ").concat(C/2-20,",\n          textAlign: 'center',\n          fontWeight: 'bold',\n          fill: '#fff'}}draggable=\"true\">\n          ").concat(B,"\n        </text>\n      </rect>\n    ")},Z=function(t,n,e,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"normal";return"<rect style={{\n            width: ".concat(C,",\n            height:").concat(n,',\n            marginTop:10,\n          }}draggable="true">\n            <text style={{marginLeft: 10,fill: \'#777\',next: inline}}draggable="true">').concat(e,"：</text>\n            <text style={{marginLeft: 10,").concat("bold"===i?"fontWeight:bold,":"",',fill:#333}}draggable="true">').concat(a,"</text>\n          </rect>")},Y=function(t){return"\n  <rect style={{\n    width: ".concat(C,',\n    height:40,\n    marginTop: 10,\n  }}draggable="true">\n    ').concat(J(e("d37a"),10,"张玲云","负责人"),"\n    ").concat(J(e("d37a"),20,"未开始","当前状态"),"\n    ").concat(J(e("d37a"),30,"普通","优先级"),"\n  </rect>")},J=function(t,n,e,a){return"\n  <image style={{\n    img:".concat(t,",\n    width: 30,\n    height: 30,\n    marginTop: 5,\n    marginLeft: ").concat(n,',\n    next: inline}}draggable="true"></image>\n  <rect style={{\n    width: 50,\n    height: 40,\n    marginLeft:  ').concat(n+5,',\n    next: inline\n  }}draggable="true">\n    <text style={{marginLeft: ').concat(n+5," ,fill: '#333',marginTop: 5,}}draggable=\"true\">").concat(e,"</text>\n    <text style={{marginLeft: ").concat(n+5," ,fill: '#777',marginTop: 3,fontSize:10,}}draggable=\"true\">").concat(a,"</text>\n  </rect>\n")},q=function(t){return"<path style={{\n            fill: ".concat(P,",\n            stroke: ").concat(P,",\n            path:'M 10,").concat(t," h").concat(C-20,"',\n            lineWidth:1,\n            lineDash:[2,2]}}\n          }}></path>")},G=function(t,n,e){var a="";return e.forEach((function(t){a+="<text style={{height:20,marginLeft: 10,marginTop:4,fill: '#2a5fff',}}>"+t+"</text>"})),"\n  <rect style={{\n    width: ".concat(C,",\n    height:60,\n    marginTop:20,\n  }}draggable=\"true\">\n    <text style={{marginLeft: 10,fill: '#333',fontWeight:bold,}}>").concat(n,"：</text>\n    ").concat(a,"\n    </rect >\n  ")},V=function(t,n,e){return"\n  <rect style={{\n    width: ".concat(C,",\n    height:40,\n    marginTop:20,\n  }}draggable=\"true\">\n    <text style={{marginLeft: 10,fill: '#333',fontWeight:bold,}}>").concat(n,"：</text>\n    <text style={{marginLeft: 10,marginTop:3,fill: '#777',}}>").concat(e,"</text>\n  </rect >")},X=function(t,n,e){var a=[],i=0,c=22,o=!0,r="";while(o){var s=e.substr(i,c);i+=c,a.push(s),i>e.length&&(o=!1)}return a.forEach((function(t){r+="<text style={{height:20,marginLeft: 10,marginTop:4,fill: '#777',}}>"+t+"</text>"})),"\n  <rect style={{\n    width: ".concat(C,",\n    height:40,\n    marginTop:20,\n  }}draggable=\"true\">\n    <text style={{marginLeft: 10,fill: '#333',fontWeight:bold,}}>").concat(n,"：</text>\n    ").concat(r,"\n  </rect >")},$=function(t){return"\n    <group>\n      ".concat(R(t),"\n      <rect style={{\n      width: ").concat(C,",\n      height:").concat(D,",\n      fill: ").concat(F,",\n      stroke: ").concat(P,",\n      radius: [0, 0, ").concat(A,", ").concat(A,',],\n      lineWidth:1,\n      }}\n      draggable="true">\n        ').concat(Z(t,20,"任务名称","章节编写任务","bold"),"\n        ").concat(Z(t,20,"创 建 人 ","赵竹林"),"\n        ").concat(Z(t,20,"截止时间","2021-10-31 17:00:00"),"\n        ").concat(Z(t,20,"创建时间","2021-10-01 09:00:00"),"\n        ").concat(Y(t),"\n        ").concat(q(160),"\n        ").concat(G(t,"输入物",["会议申请单.doc","参会人员名单.doc"]),"\n        ").concat(G(t,"产出物",["会议纪要1.doc"]),"\n        ").concat(V(t,"描述","这里显示文字任务描述信息..."),"\n      </rect>\n    </group>")},K=function(t){return"\n    <group>\n      ".concat(R(t),"\n      <rect style={{\n      width: ").concat(C,",\n      height:").concat(E,",\n      fill: ").concat(F,",\n      stroke: ").concat(P,",\n      radius: [0, 0, ").concat(A,", ").concat(A,',],\n      lineWidth:1,\n      }}\n      draggable="true">\n        ').concat(Z(t,20,"任务名称","章节编写任务","bold"),"\n        ").concat(Z(t,20,"创 建 人 ","赵竹林"),"\n        ").concat(Z(t,20,"截止时间","2021-10-31 17:00:00"),"\n        ").concat(Z(t,20,"创建时间","2021-10-01 09:00:00"),"\n      </rect>\n    </group>")},Q=function(t){return H(t),"\n    <group>\n      <rect style={{\n        width: ".concat(U,",\n        height:").concat(z,",\n        fill: 'l(90) 0:").concat(O," 1:").concat(P,"',\n        radius: ").concat(A,',\n        lineWidth:1,\n        }}draggable="true">\n        <rect style={{\n          width:50,\n          height:60,\n          next: inline,\n          radius: ').concat(A,',\n        }}draggable="true">\n          <image style={{\n            img:').concat(e("7fcb"),",\n            width:40,\n            height:40,\n            marginLeft:10,\n            marginTop:10,\n          }}></image>\n        </rect>\n        <rect style={{\n          width:90,\n          height:60,\n          next: inline,\n          radius: ").concat(A,',\n        }}draggable="true">\n          <text style={{marginLeft: 5,fill: \'#fff\',marginTop: 10,fontWeight:bold,}}draggable="true">发起人名</text>\n          <text style={{marginLeft: 5,fill: \'#fff\',marginTop: 15,}}draggable="true">').concat(t.label,"</text>=\n        </rect>\n      </rect>\n    </group>")},tt=function(t){return"\n    <group>\n      ".concat(R(t),"\n      <rect style={{\n      width: ").concat(C,",\n      height:").concat(D,",\n      fill: ").concat(F,",\n      stroke: ").concat(P,",\n      radius: [0, 0, ").concat(A,", ").concat(A,',],\n      lineWidth:1,\n      }}\n      draggable="true">\n        ').concat(Z(t,30,"会议主题","需求讨论会议","bold"),"\n        ").concat(Z(t,30,"密   级 ","一般"),"\n        ").concat(Z(t,30,"参 会 人","王丽桥、刘子扬、赵竹林"),"\n        ").concat(Z(t,30,"参会时间","2021-10-21 09:00:00"),"\n        ").concat(q(155),"\n        ").concat(G(t,"会议文件",["会议申请单.doc","参会人员名单.doc"]),"\n        ").concat(G(t,"会议纪要",["会议纪要1.doc"]),"\n        ").concat(V(t,"会议结论","会议结论文字任务描述信息..."),"\n      </rect>\n    </group>")},nt=function(t){return"\n    <group>\n      ".concat(R(t),"\n      <rect style={{\n      width: ").concat(C,",\n      height:").concat(E,",\n      fill: ").concat(F,",\n      stroke: ").concat(P,",\n      radius: [0, 0, ").concat(A,", ").concat(A,',],\n      lineWidth:1,\n      }}\n      draggable="true">\n        ').concat(Z(t,20,"会议主题","需求讨论会议","bold"),"\n        ").concat(Z(t,20,"密   级 ","一般"),"\n        ").concat(Z(t,20,"参 会 人","王丽桥、刘子扬、赵竹林"),"\n        ").concat(Z(t,20,"参会时间","2021-10-21 09:00:00"),"\n      </rect>\n    </group>")},et=function(t){return H(t),"\n    <group>\n      <rect style={{\n        width: ".concat(U,",\n        height:").concat(z,",\n        fill: 'l(90) 0:").concat(O," 1:").concat(P,"',\n        radius: ").concat(A,',\n        lineWidth:1,\n        }}draggable="true">\n        <rect style={{\n          width:50,\n          height:60,\n          next: inline,\n          radius: ').concat(A,',\n        }}draggable="true">\n          <image style={{\n            img:').concat(e("7cf2"),",\n            width:40,\n            height:40,\n            marginLeft:10,\n            marginTop:10,\n          }}></image>\n        </rect>\n        <rect style={{\n          width:90,\n          height:60,\n          next: inline,\n          radius: ").concat(A,',\n        }}draggable="true">\n          <text style={{marginLeft: 5,fill: \'#fff\',marginTop: 10,fontWeight:bold,}}draggable="true">发起人名</text>\n          <text style={{marginLeft: 5,fill: \'#fff\',marginTop: 15,}}draggable="true">').concat(t.label,"</text>=\n        </rect>\n      </rect>\n    </group>")},at=function(t){return"\n    <group>\n      ".concat(R(t),"\n      <rect style={{\n      width: ").concat(C,",\n      height:").concat(D,",\n      fill: ").concat(F,",\n      stroke: ").concat(P,",\n      radius: [0, 0, ").concat(A,", ").concat(A,',],\n      lineWidth:1,\n      }}\n      draggable="true">\n        ').concat(Z(t,30,"参 与 人","王丽桥、刘子扬、赵竹林"),"\n        ").concat(Z(t,30,"开始时间","2021-10-21 09:00:00"),"\n        ").concat(Z(t,30,"结束时间","2021-10-21 10:30:00"),"\n      </rect >\n    </group >\n    ")},it=function(t){return"\n    <group>\n      ".concat(R(t),"\n      <rect style={{\n      width: ").concat(C,",\n      height:").concat(E,",\n      fill: ").concat(F,",\n      stroke: ").concat(P,",\n      radius: [0, 0, ").concat(A,", ").concat(A,',],\n      lineWidth:1,\n      }}\n      draggable="true">\n        ').concat(Z(t,20,"会议主题","需求讨论会议","bold"),"\n        ").concat(Z(t,20,"密   级 ","一般"),"\n        ").concat(Z(t,20,"参 会 人","王丽桥、刘子扬、赵竹林"),"\n        ").concat(Z(t,20,"参会时间","2021-10-21 09:00:00"),"\n      </rect>\n    </group>")},ct=function(t){return H(t),"\n    <group>\n      <rect style={{\n        width: ".concat(U,",\n        height:").concat(z,",\n        fill: 'l(90) 0:").concat(O," 1:").concat(P,"',\n        radius: ").concat(A,',\n        lineWidth:1,\n        }}draggable="true">\n        <rect style={{\n          width:50,\n          height:60,\n          next: inline,\n          radius: ').concat(A,',\n        }}draggable="true">\n          <image style={{\n            img:').concat(e("dce9"),",\n            width:40,\n            height:40,\n            marginLeft:10,\n            marginTop:10,\n          }}></image>\n        </rect>\n        <rect style={{\n          width:90,\n          height:60,\n          next: inline,\n          radius: ").concat(A,',\n        }}draggable="true">\n          <text style={{marginLeft: 5,fill: \'#fff\',marginTop: 10,fontWeight:bold,}}draggable="true">发起人名</text>\n          <text style={{marginLeft: 5,fill: \'#fff\',marginTop: 15,}}draggable="true">').concat(t.label,"</text>=\n        </rect>\n      </rect>\n    </group>")},ot=function(t){return"\n    <group>\n      ".concat(R(t),"\n      <rect style={{\n      width: ").concat(C,",\n      height:").concat(D,",\n      fill: ").concat(F,",\n      stroke: ").concat(P,",\n      radius: [0, 0, ").concat(A,", ").concat(A,',],\n      lineWidth:1,\n      }}\n      draggable="true">\n        ').concat(Z(t,30,"工具名称","word | excel","bold"),"\n        ").concat(Z(t,30,"创 建 人","王丽桥"),"\n        ").concat(Z(t,30,"创建时间","2021-10-21 10:30:00"),"\n        ").concat(q(125),"\n        ").concat(X(t,"工具介绍","Word2003是目前使用比较广泛的一种文字处理软件，它集文字的编辑、排版、表格处理、图形处理为一体，在Word中我们可以制作一份简单的通知。在则业的时候我们可以撰写自己的简历、可以加入自己的照片，并且我们可以书写论文、计划，同时我们还可以在我们编写的文档中加入声音、图象这样可以构成一个图文并茂的文件。为你提供word2003下载"),"\n      </rect>\n    </group>")},rt=function(t){return"\n    <group>\n      ".concat(R(t),"\n      <rect style={{\n      width: ").concat(C,",\n      height:").concat(E,",\n      fill: ").concat(F,",\n      stroke: ").concat(P,",\n      radius: [0, 0, ").concat(A,", ").concat(A,',],\n      lineWidth:1,\n      }}\n      draggable="true">\n        ').concat(Z(t,30,"工具名称","word | excel","bold"),"\n        ").concat(Z(t,30,"创 建 人","王丽桥"),"\n        ").concat(Z(t,30,"创建时间","2021-10-21 10:30:00"),"\n      </rect>\n    </group>")},st=function(t){return H(t),"\n    <group>\n      <rect style={{\n        width: ".concat(U,",\n        height:").concat(z,",\n        fill: 'l(90) 0:").concat(O," 1:").concat(P,"',\n        radius: ").concat(A,',\n        lineWidth:1,\n        }}draggable="true">\n        <rect style={{\n          width:50,\n          height:60,\n          next: inline,\n          radius: ').concat(A,',\n        }}draggable="true">\n          <image style={{\n            img:').concat(e("13a5"),",\n            width:40,\n            height:40,\n            marginLeft:10,\n            marginTop:10,\n          }}></image>\n        </rect>\n        <rect style={{\n          width:90,\n          height:60,\n          next: inline,\n          radius: ").concat(A,',\n        }}draggable="true">\n          <text style={{marginLeft: 5,fill: \'#fff\',marginTop: 10,fontWeight:bold,}}draggable="true">发起人名</text>\n          <text style={{marginLeft: 5,fill: \'#fff\',marginTop: 15,}}draggable="true">').concat(t.label,"</text>=\n        </rect>\n      </rect>\n    </group>")},lt={task_detail:$,meet_detail:tt,chat_detail:at,tool_detail:ot,task_general:K,meet_general:nt,chat_general:it,tool_general:rt,task_simple:Q,meet_simple:et,chat_simple:ct,tool_simple:st},dt=lt,gt=e("be8f"),ht=e("4ec3"),ut=e("f121"),mt=e("cf45");l()(gt["a"]);var ft=null,pt={components:{},data:function(){return{win:{height:0,width:0},sourceData:{},graph:null,showType:"normal",curDataSource:"mock",rankDir:"LR",canvasCenter:[0,0],align:void 0,lineType:"polyline",lineColor:"#bababa",lineThick:2,toolTip:"",toolBar:null,minimap:null,rightMenu:null,curLayout:"dagre",curZoom:1}},computed:{},mounted:function(){this.getMainData()},methods:{getMainData:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var e,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.initWindow(),"mock"!==t.curDataSource){n.next=5;break}t.sourceData=t.initData(u["a"]),n.next=13;break;case 5:return e=t.$route.query,e.nodeId||(e.nodeId="c99b3dae-a520-4460-8474-122418792110"),console.log("queryData:",e),n.next=10,Object(ht["c"])(e.nodeId);case 10:a=n.sent,console.log("全量数据:",a.data),t.sourceData=t.initData(a.data);case 13:t.initMenu(),t.initToolBar(),t.initMiniMap(),t.initToolTip(),t.initJsxNode(),t.initG6();case 19:case"end":return n.stop()}}),n)})))()},initG6:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:d["a"].show(),r["a"].Util.processParallelEdges(t.sourceData.edges,20,"quadratic","polyline","loop"),t.graph=new r["a"].Graph({container:"canvasDiv",width:t.win.width,height:t.win.height,groupByTypes:!0,fitView:!1,fitViewPadding:0,fitCenter:!0,linkCenter:!1,animate:!0,enabledStack:!0,minZoom:.05,maxZoom:1.5,modes:{default:["drag-canvas","zoom-canvas","drag-node","shortcuts-call","drag-combo","collapse-expand-combo"]},plugins:[t.toolTip,t.minimap,t.rightMenu,t.toolBar],layout:{type:"dagre",rankdir:t.rankDir,align:t.align,sortByCombo:!0,nodesepFunc:function(){return 10},ranksepFunc:function(){return 70}},defaultNode:{size:[280,335],color:"#000",style:{cursor:"pointer",lineWidth:3}},defaultEdge:{color:t.lineColor,type:t.lineType,labelCfg:{refY:-10},style:{cursor:"pointer",lineWidth:t.lineThick,color:t.lineColor,endArrow:!0}},defaultCombo:{type:"cRect",style:{fill:"#deffff",stroke:"#000099",lineWidth:3,radius:10,shadowColor:"rgba(0, 0, 0, 0.3)",shadowBlur:10,shadowOffsetX:10,shadowOffsetY:10},labelCfg:{position:"top",refY:-35,style:{fontSize:25,fontWeight:"bold"}}},comboStateStyles:{hover:{lineWidth:4,fill:"#FE9797",stroke:"#FE9797"}},nodeStateStyles:{highlight:{opacity:1},dark:{opacity:.2}},edgeStateStyles:{highlight:{lineWidth:3,stroke:"#ff3300"}}}),t.graph.data(t.sourceData),t.graph.render(),t.curZoom=t.graph.getZoom().toFixed(2),d["a"].hide(),t.graph.on("node:click",(function(t){var n=t.item;console.log(t),console.log("点击node:{"+n._cfg.model.id+" , "+n._cfg.model.label+"|"+n._cfg.model.x+","+n._cfg.model.y+"}"),ft.graph.focusItem(n),ft.graph.setAutoPaint(!1),ft.graph.getNodes().forEach((function(t){ft.graph.clearItemStates(t),ft.graph.setItemState(t,"dark",!0)})),ft.graph.setItemState(n,"dark",!1),ft.graph.setItemState(n,"highlight",!0),ft.filtNodeAndEdge(ft.graph,n),ft.graph.paint(),ft.graph.setAutoPaint(!0)})),t.graph.on("canvas:click",(function(){ft.clearAllStats()})),t.graph.on("combo:click",(function(t){ft.clearAllStats(),"combo-marker-shape"===t.target.get("name")&&ft.graph.collapseExpandCombo(t.item)}));case 10:case"end":return n.stop()}}),n)})))()},filtNodeAndEdge:function(t,n){t.getEdges().forEach((function(e){e.getSource()===n?(t.setItemState(e.getTarget(),"dark",!1),t.setItemState(e.getTarget(),"highlight",!0),t.setItemState(e,"highlight",!0),e.toFront()):e.getTarget()===n?(t.setItemState(e.getSource(),"dark",!1),t.setItemState(e.getSource(),"highlight",!0),t.setItemState(e,"highlight",!0),e.toFront()):t.setItemState(e,"highlight",!1)}))},changeLayout:function(t){d["a"].show(),this.curLayout=t;var n={rankDir:this.rankDir,canvasCenter:this.canvasCenter},e=m["a"][this.curLayout](n);this.graph.destroyLayout(),console.log("切换布局-".concat(this.curLayout,":"),e),this.graph.updateLayout(e),setTimeout((function(){ft.graph.fitView(10),d["a"].hide()}),1e3)},initCombo:function(){var t=function(t,n,e){return[["M",t-e,n],["a",e,e,0,1,0,2*e,0],["a",e,e,0,1,0,2*-e,0],["M",t-e+4,n],["L",t-e+2*e-4,n]]},n=function(t,n,e){return[["M",t-e,n],["a",e,e,0,1,0,2*e,0],["a",e,e,0,1,0,2*-e,0],["M",t-e+4,n],["L",t-e+2*e-4,n],["M",t-e+e,n-e+4],["L",t,n+e-4]]};r["a"].registerCombo("cRect",{drawShape:function(n,e){var a=this;n.padding=n.padding||[20,50,20,50];var i=a.getShapeStyle(n);i.radius=10;var o=e.addShape("rect",{attrs:Object(c["a"])(Object(c["a"])({},i),{},{x:-i.width/2-(n.padding[3]-n.padding[1])/2,y:-i.height/2-(n.padding[0]-n.padding[2])/2,width:i.width,height:i.height}),draggable:!0,name:"combo-keyShape"});return i.cursor="pointer",e.addShape("marker",{attrs:Object(c["a"])(Object(c["a"])({},i),{},{fill:"#fff",opacity:1,x:n.style.width/2+n.padding[1],y:0-n.padding[0],r:10,symbol:t}),draggable:!0,name:"combo-marker-shape"}),o},afterUpdate:function(e,a){var i=a.get("group"),c=i.find((function(t){return"combo-marker-shape"===t.get("name")}));c.attr({x:e.style.width/2+e.padding[1],y:0-e.padding[0],symbol:e.collapsed?n:t})}},"rect")},initMenu:function(){this.rightMenu=new r["a"].Menu({getContent:function(){return'\n          <div class="left-menu">\n            <button class="menu-btn">功能1</button>\n            <button class="menu-btn">功能2</button>\n            <button class="menu-btn">功能3</button>\n            \n            <button class="menu-btn">功能4</button>\n          </div>'},handleMenuClick:function(t,n){console.log(t,n)},offsetX:26,offsetY:-10,itemTypes:["node"]})},initMiniMap:function(){this.minimap=new r["a"].Minimap({size:[250,150]})},initToolBar:function(){this.toolBar=new r["a"].ToolBar({position:{x:10,y:10}})},initToolTip:function(){this.toolTip=new r["a"].Tooltip({offsetX:0,offsetY:0,fixToNode:[1,.5],itemTypes:["node","edge"],getContent:function(t){var n=document.createElement("div");n.style.width="fit-content",n.style.height="fit-content";var e=t.item.getModel();if("node"===t.item.getType())n.innerHTML=ut["b"]?Object(g["a"])(e):Object(h["a"])(e);else{var a=t.item.getSource(),i=t.item.getTarget();n.innerHTML="来源：".concat(a.getModel().label,"<br/>去向：").concat(i.getModel().label)}return n}})},initWindow:function(){ft=this,this.win.height=(document.documentElement.clientHeight||document.body.clientHeight)-10,this.win.width=(document.documentElement.clientWidth||document.body.clientWidth)-10,this.canvasCenter=[this.win.width/2,this.win.height/2],console.log("winWid:"+this.win.width+",winHei:"+this.win.height),window.addEventListener("resize",Object(mt["b"])((function(){ft.win.height=(document.documentElement.clientHeight||document.body.clientHeight)-10,ft.win.width=(document.documentElement.clientWidth||document.body.clientWidth)-10,console.log("窗口大小改变:"+ft.win.width+"*"+ft.win.height),ft.graph.changeSize(ft.win.width,ft.win.height)}),500))},clearAllStats:function(){var t=this;t.graph.setAutoPaint(!1),t.graph.getNodes().forEach((function(n){t.graph.clearItemStates(n)})),t.graph.getEdges().forEach((function(n){t.graph.clearItemStates(n)})),t.graph.paint(),t.graph.setAutoPaint(!0)},initData:function(t){var n=this;return t.nodes.forEach((function(t){switch(t.img=e("8cba")("./"+t.icon.toLowerCase()+".png"),t.obj={userHead:e("a1d8"),status:e("1570"),level:e("8dab"),inList:["会议申请单.doc","会议参会人员名单.excl"],outList:["会议纪要1.doc"]},n.showType){case"all":t.size=ut["b"]?[280,335]:[250,390];break;case"normal":t.size=ut["b"]?[280,125]:[250,310];break;case"simple":t.size=ut["b"]?[160,60]:[250,50];break;default:break}switch(t.icon){case"data":case"document":ut["b"]?(t.type="image",t.size=80,t.img=e("4f0b")):t.type="data_node";break;case"DataPacket":t.type="datagroup_node";break;case"chat":case"im":t.type=ut["b"]?"chat_".concat(n.showType,"_newUI"):"chat_node_".concat(n.showType);break;case"task":t.type=ut["b"]?"task_".concat(n.showType,"_newUI"):"task_node_".concat(n.showType);break;case"MeetingInfo":t.type=ut["b"]?"meet_".concat(n.showType,"_newUI"):"meet_node_".concat(n.showType);break;case"tool":t.type=ut["b"]?"tool_".concat(n.showType,"_newUI"):"data_node";break;default:ut["b"]?(t.type="image",t.size=80,t.img=e("4f0b")):t.type="data_node";break}})),console.log("【当前数据】",t),t},initJsxNode:function(){r["a"].registerNode("task_node_all",{jsx:f["a"].task_jsx4All}),r["a"].registerNode("task_node_normal",{jsx:f["a"].task_jsx4Normal}),r["a"].registerNode("task_node_simple",{jsx:f["a"].task_jsx4Simple}),r["a"].registerNode("meet_node_all",{jsx:p["a"].meet_jsx4All}),r["a"].registerNode("meet_node_normal",{jsx:p["a"].meet_jsx4Normal}),r["a"].registerNode("meet_node_simple",{jsx:p["a"].meet_jsx4Simple}),r["a"].registerNode("chat_node_all",{jsx:v["a"].chat_jsx4All}),r["a"].registerNode("chat_node_normal",{jsx:v["a"].chat_jsx4Normal}),r["a"].registerNode("chat_node_simple",{jsx:v["a"].chat_jsx4Simple}),r["a"].registerNode("data_node",{jsx:b["a"].data_jsx}),r["a"].registerNode("datagroup_node",{jsx:b["a"].datagroup_jsx}),r["a"].registerNode("task_all_newUI",{jsx:dt.task_detail}),r["a"].registerNode("meet_all_newUI",{jsx:dt.meet_detail}),r["a"].registerNode("chat_all_newUI",{jsx:dt.chat_detail}),r["a"].registerNode("tool_all_newUI",{jsx:dt.tool_detail}),r["a"].registerNode("task_normal_newUI",{jsx:dt.task_general}),r["a"].registerNode("meet_normal_newUI",{jsx:dt.meet_general}),r["a"].registerNode("chat_normal_newUI",{jsx:dt.chat_general}),r["a"].registerNode("tool_normal_newUI",{jsx:dt.tool_general}),r["a"].registerNode("task_simple_newUI",{jsx:dt.task_simple}),r["a"].registerNode("meet_simple_newUI",{jsx:dt.meet_simple}),r["a"].registerNode("chat_simple_newUI",{jsx:dt.chat_simple}),r["a"].registerNode("tool_simple_newUI",{jsx:dt.tool_simple})},showTypeChange:function(t){this.showType=t,this.graph&&(this.graph.clear(),this.graph.destroy()),this.getMainData(),d["a"].hide()},dataSourceChange:function(t){this.curDataSource=t,this.graph&&(this.graph.clear(),this.graph.destroy()),this.getMainData(),d["a"].hide()},reloadPage:function(){location.reload()}}},vt=pt,bt=(e("5ebf"),e("1fb2"),e("2877")),wt=Object(bt["a"])(vt,a,i,!1,null,null,null);n["default"]=wt.exports},7944:function(t,n,e){},"7cf2":function(t,n,e){t.exports=e.p+"assets/img/defaultUser1.7c0599c6.png"},"7fcb":function(t,n,e){t.exports=e.p+"assets/img/defaultHead.6116f0dd.png"},b680:function(t,n,e){"use strict";var a=e("23e7"),i=e("a691"),c=e("408a"),o=e("1148"),r=e("d039"),s=1..toFixed,l=Math.floor,d=function(t,n,e){return 0===n?e:n%2===1?d(t,n-1,e*t):d(t*t,n/2,e)},g=function(t){var n=0,e=t;while(e>=4096)n+=12,e/=4096;while(e>=2)n+=1,e/=2;return n},h=function(t,n,e){var a=-1,i=e;while(++a<6)i+=n*t[a],t[a]=i%1e7,i=l(i/1e7)},u=function(t,n){var e=6,a=0;while(--e>=0)a+=t[e],t[e]=l(a/n),a=a%n*1e7},m=function(t){var n=6,e="";while(--n>=0)if(""!==e||0===n||0!==t[n]){var a=String(t[n]);e=""===e?a:e+o.call("0",7-a.length)+a}return e},f=s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!r((function(){s.call({})}));a({target:"Number",proto:!0,forced:f},{toFixed:function(t){var n,e,a,r,s=c(this),l=i(t),f=[0,0,0,0,0,0],p="",v="0";if(l<0||l>20)throw RangeError("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return String(s);if(s<0&&(p="-",s=-s),s>1e-21)if(n=g(s*d(2,69,1))-69,e=n<0?s*d(2,-n,1):s/d(2,n,1),e*=4503599627370496,n=52-n,n>0){h(f,0,e),a=l;while(a>=7)h(f,1e7,0),a-=7;h(f,d(10,a,1),0),a=n-1;while(a>=23)u(f,1<<23),a-=23;u(f,1<<a),h(f,1,1),u(f,2),v=m(f)}else h(f,0,e),h(f,1<<-n,0),v=m(f)+o.call("0",l);return l>0?(r=v.length,v=p+(r<=l?"0."+o.call("0",l-r)+v:v.slice(0,r-l)+"."+v.slice(r-l))):v=p+v,v}})},b734:function(t,n,e){"use strict";e("99af"),e("b0c0"),e("a4d3"),e("e01a");var a="暂无";function i(t){var n=t.detailInfo||{},i="",l='<div class="tip-div">\n      <div class="tip-head task-head-bg task-border">任务</div>\n      <div class="tip-content task-content-bg task-border">\n        <div class="common-line lineheight20">\n          <div class="title">任务名称：</div>\n          <div class="desc bold">'.concat(n.name||a,'</div>\n        </div>\n        <div class="common-line lineheight20">\n          <div class="title">创建人：</div>\n          <div class="desc normal">').concat(t.creatorName||a,'</div>\n        </div>\n        <div class="common-line lineheight20">\n          <div class="title">截止时间：</div>\n          <div class="desc normal">').concat(n.endTime||a,'</div>\n        </div>\n        <div class="common-line lineheight20">\n          <div class="title">创建时间：</div>\n          <div class="desc normal">').concat(n.startTime||a,'</div>\n        </div>\n        <div class="status-line">\n          <div class="each-box">\n            <div class="head-img">\n              <img\n                class="status-image"\n                src=').concat(e("7fcb"),'\n              >\n            </div>\n            <div class="status-text">\n              <div class="bold">').concat(n.executor||a,'</div>\n              <div class="normal size10">负责人</div>\n            </div>\n          </div>\n          <div class="each-box">\n            <div class="head-img">\n              <img\n                class="status-image"\n                src=').concat(o(n.status),'\n              >\n            </div>\n            <div class="status-text">\n              <div class="bold">').concat(n.status||a,'</div>\n              <div class="normal size10">当前状态</div>\n            </div>\n          </div>\n          <div class="each-box">\n            <div class="head-img">\n              <img\n                class="status-image"\n                src=').concat(r(n.priority),'\n              >\n            </div>\n            <div class="status-text">\n              <div class="bold">').concat(n.priority||a,'</div>\n              <div class="normal size10">优先级</div>\n            </div>\n          </div>\n        </div>\n        <div class="sep-line task-line"></div>\n        <div class="file-line">\n          <div class="title bold">输入物：</div>\n          <div class="file-box">\n            ').concat(c(n.inPuts||[]),'\n          </div>\n        </div>\n        <div class="file-line">\n          <div class="title bold">输出物：</div>\n          <div class="file-box">\n            ').concat(c(n.outPuts||[]),'\n          </div>\n        </div>\n        <div class="desc-line">\n          <div class="title bold">描述：</div>\n          <div class="content normal max20">').concat(n.description||a,"</div>\n        </div>\n      </div>\n    </div>"),d='<div class="tip-div">\n      <div class="tip-head chat-head-bg chat-border">即时通讯</div>\n      <div class="tip-content chat-content-bg chat-border">\n        <div class="common-line">\n          <div class="title">参与人：</div>\n          <div class="desc bold">'.concat(n.executor||a,'</div>\n        </div>\n        <div class="common-line">\n          <div class="title">开始时间：</div>\n          <div class="desc normal">').concat(n.startTime||a,'</div>\n        </div>\n        <div class="common-line">\n          <div class="title">结束时间：</div>\n          <div class="desc normal">').concat(n.endTime||a,'</div>\n        </div>\n        <div class="sep-line chat-line"></div>\n        <div class="file-line">\n          <div class="title bold">输入物：</div>\n          <div class="file-box">\n            ').concat(c(n.inPuts||[]),'\n          </div>\n        </div>\n        <div class="record-line">\n          <div class="title bold">会话记录：</div>\n          <div class="record-box">\n            <div class="single-record">\n              <span class="bold">赵竹林</span>\n              <span class="ml5">2021-10-21 09:00：</span>\n              <span class="normal ml5">文字内容+图片内容+xxxxxxx</span>\n            </div>\n            <div class="single-record">\n              <span class="bold">刘子扬</span>\n              <span class="ml5">2021-10-21 09:10：</span>\n              <span class="normal ml5">文字内容1+图片内容1+xxxxxxx1</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>'),g='<div class="tip-div">\n      <div class="tip-head meet-head-bg meet-border">会议</div>\n      <div class="tip-content meet-content-bg meet-border">\n        <div class="common-line">\n          <div class="title">会议主题：</div>\n          <div class="desc bold">'.concat(n.name||a,'</div>\n        </div>\n        <div class="common-line">\n          <div class="title">密级：</div>\n          <div class="desc normal">').concat(s(n.secret),'</div>\n        </div>\n        <div class="common-line">\n          <div class="title">参与人：</div>\n          <div class="desc normal">').concat(n.executor||a,'</div>\n        </div>\n        <div class="common-line">\n          <div class="title">参会时间：</div>\n          <div class="desc normal">').concat(n.startTime||a,'</div>\n        </div>\n        <div class="sep-line meet-line"></div>\n        <div class="file-line">\n          <div class="title bold">会议文件：</div>\n          <div class="file-box">\n            ').concat(c(n.inPuts||[]),'\n          </div>\n        </div>\n        <div class="file-line">\n          <div class="title bold">会议纪要：</div>\n          <div class="file-box">\n            ').concat(c(n.outPuts||[]),"\n          </div>\n        </div>\n      </div>\n    </div>"),h='<div class="tip-div">\n      <div class="tip-head tool-head-bg tool-border">工具</div>\n      <div class="tip-content tool-content-bg tool-border">\n        <div class="common-line">\n          <div class="title">工具名称：</div>\n          <div class="desc bold">word|excel</div>\n        </div>\n        <div class="common-line">\n          <div class="title">创建人：</div>\n          <div class="desc normal">赵竹林</div>\n        </div>\n        <div class="common-line">\n          <div class="title">创建时间：</div>\n          <div class="desc normal">2021-10-01 09:00:00</div>\n        </div>\n        <div class="sep-line tool-line"></div>\n        <div class="desc-line">\n          <div class="title bold">工具介绍：</div>\n          <div class="content normal tool-max">Word2003是目前使用比较广泛的一种文字处理软件，它集文字的编辑、排版、表格处理、图形处理为一体，在Word中我们可以制作一份简单的通知。在则业的时候我们可以撰写自己的简历、可以加入自己的照片，并且我们可以书写论文、计划，同时我们还可以在我们编写的文档中加入声音、图象这样可以构成一个图文并茂的文件。为你提供word2003下载</div>\n        </div>\n      </div>\n    </div>';switch(t.icon){case"task":i=l;break;case"MeetingInfo":i=g;break;case"Im":case"im":i=d;break;default:i=h;break}return i}function c(t){var n="";if(t.length)for(var e=0;e<t.length;e++)n+='<span class="single-file link">'+t[e].fileName||!1,e<t.length-1&&(n+="<br/>");else n="暂无数据";return n}function o(t){var n=null;switch(t){case"未开始":n=e("9012");break;case"进行中":n=e("90bc");break;case"已完成":n=e("b250");break;case"已取消":n=e("003c");break;case"已停止":case"已暂停":n=e("59c4");break;case"已拒绝":case"已回收":n=e("71b6");break;default:n=e("9012");break}return n}function r(t){var n=null;switch(t){case"普通":n=e("71a0");break;case"紧急":n=e("e211");break;case"非常紧急":n=e("8098");break;default:n=e("71a0");break}return n}function s(t){var n="";switch(t){case"10":n="公开";break;case"20":n="内部";break;case"30":n="秘密";break;case"40":n="机密";break;default:n="未知";break}return n}n["a"]=i},d37a:function(t,n,e){t.exports=e.p+"assets/img/defaultUser5.6e70b67c.png"},dce9:function(t,n,e){t.exports=e.p+"assets/img/defaultUser3.5a2fe1a5.png"},e6eb:function(t,n,e){}}]);